#:kivy 1.0


<RoldenSprintScreenManager>:
    RaceScreen:
        name: 'race'

        BoxLayout:
            orientation: 'horizontal'
            spacing: 10

            $for(section in config)
            $if('racer' in section)
            RacerWidget:
                id: $(section)
                race_distance: app.config.getint('roldensprint', 'race_distance_m')

                name: app.config.get('$(section)', 'name')
                speed_topic: '$(section).speed'
                distance_topic:  '$(section).distance'

                GraphWidget:
                    index: 0
                    value: $(section).speed
                    max_value: 80
            $endif
            $endfor

    CountDownScreen:
        id: countdown
        name: 'countdown'
        text: 'READY'

        Label:
            text: countdown.text
            font_size: '100sp'
